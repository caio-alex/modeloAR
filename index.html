<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AR.js com Hiro e JavaScript</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.min.js"></script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs="sourceType: webcam;">

      <!-- Marcador Hiro -->
      <a-marker preset="hiro">
        
        <!-- Gôndola -->
        <a-gltf-model
          id="gondola"
          src="https://cdn.glitch.global/0a4976cf-50a4-4960-86ae-eaaffabb9833/prateleira2.glb?v=1744429524348"
          position="0 0 0"
          scale="0.02 0.02 0.02"
          rotation="0 180 0"
        ></a-gltf-model>

        <!-- Produto (caixa de suco) -->
        <a-box
          id="produto"
          position="0 0.5 0.2"
          depth="0.1"
          height="0.2"
          width="0.1"
          color="orange"
          
          class="clickable"
        ></a-box>

        <!-- Caixa de nome do produto -->
        <a-plane
          position="0 0.7 0.2"
          width="0.3"
          height="0.1"
          color="#ffffff"
                 rotation="180 180 0"
        >
          <a-text
            value="Suco de Laranja"
            align="center"
            color="#000000"
            width="1.5"
            position="0 0 0.01"
                  rotation="180 180 0"
          ></a-text>
        </a-plane>
        <!-- Caixa de informações do produto -->
        <a-plane
          position="0 0.3 0.5"
          width="0.5"
          height="0.25"
          color="#fff"
          material="opacity: 0.8"
          rotation="180 180 0"
        >
          <a-text
            value="Marca: Natural\nPreço: R$ 4,99"
            color="#000"
            align="center"
            width="1.2"
            position="0 0 0.01"
                  rotation="180 180 0"
          ></a-text>
        </a-plane>

      </a-marker>

      <!-- Câmera com cursor para clique -->
      <a-entity camera>
        <a-cursor
          fuse="true"
          fuse-timeout="500"
          raycaster="objects: .clickable"
        ></a-cursor>
      </a-entity>

    </a-scene>

    <script>
      document.querySelector('a-scene').addEventListener('loaded', function () {
        const box = document.querySelector('.clickable');
        if (box) {
          box.addEventListener('click', function () {
            box.setAttribute('color', 'blue');
            console.log('Objeto clicado!');
          });
        }
      });
    </script>
  </body>
</html>



